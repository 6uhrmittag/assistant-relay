(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{104:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return s})),t.d(n,"metadata",(function(){return i})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return p}));var a=t(1),r=t(6),o=(t(0),t(114)),s={id:"hass",title:"Hass.io",description:"Assistant Relay on Hass.io"},i={id:"integration/hass",title:"Hass.io",description:"Assistant Relay on Hass.io",source:"@site/docs\\integration\\hass.md",permalink:"/assistant-relay/docs/integration/hass",sidebar:"docs",previous:{title:"WebCore",permalink:"/assistant-relay/docs/integration/webcore"},next:{title:"Frequently Asked Questions",permalink:"/assistant-relay/docs/faq/faq"}},c=[{value:"Usage",id:"usage",children:[{value:"Changing the port number",id:"changing-the-port-number",children:[]}]},{value:"Examples",id:"examples",children:[{value:"Home Assistant REST",id:"home-assistant-rest",children:[]},{value:"Node Red Example",id:"node-red-example",children:[]}]}],l={rightToc:c};function p(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Whilst there isn't an official Docker image for Hass.io, there are a number of 3rd Party Implementations."),Object(o.b)("p",null,"The most active seems to be ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/Apipa169/Assistant-Relay-for-Hassio"}),"Assistant-Relay-for-Hassio")," from Apipa169"),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"The below instructions were copied from GitHub on 12th Feb 2020.  These instructions may have changed since the time of writing. Always check the above GitHub repo for the latest information")),Object(o.b)("h2",{id:"usage"},"Usage"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Add ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"https://github.com/Apipa169/Assistant-Relay-for-Hassio"}),"https://github.com/Apipa169/Assistant-Relay-for-Hassio")," in the add-on store."),Object(o.b)("li",{parentName:"ol"},"Install the add-on"),Object(o.b)("li",{parentName:"ol"},"Start the add-on and open the add-on in your browser: ",Object(o.b)("a",Object(a.a)({parentName:"li"},{href:"http://%5BIP%5D:%5BPORT"}),"http://[IP]:[PORT"),"]"),Object(o.b)("li",{parentName:"ol"},"Follow the instructions in the browser."),Object(o.b)("li",{parentName:"ol"},"You can now use Assistant Relay.")),Object(o.b)("blockquote",null,Object(o.b)("p",{parentName:"blockquote"},"(the IP must be the IP address of your system, not the one mentioned in the log as this is the address of the container. The port is 3000 by default)")),Object(o.b)("h3",{id:"changing-the-port-number"},"Changing the port number"),Object(o.b)("p",null,"If you want to change the port of Assistant Relay, please do this in the add-on settings and leave the Assistant Relay setting on port 3000."),Object(o.b)("h2",{id:"examples"},"Examples"),Object(o.b)("p",null,"User needs always to be the user you used in the setup of AR. Multiple users is suported by AR."),Object(o.b)("h3",{id:"home-assistant-rest"},"Home Assistant REST"),Object(o.b)("p",null,"Example command to broadcast via a rest command."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),'# Example configuration.yaml\nrest_command:\n  assistant_broadcast:\n    url: http://192.168.10.2:3000/assistant\n    method: POST\n    content_type: \'application/json\'\n    payload: \'{"command":"{{ command }}", "user":"username", "broadcast":true}\'\n    \n  assistant_converse:\n    url: http://192.168.10.2:3000/assistant\n    method: POST\n    content_type: \'application/json\'\n    payload: \'{"command":"{{ command }}", "user":"username", "converse":true}\'\n\n  assistant_relay:\n    url: http://192.168.10.2:3000/assistant\n    method: POST\n    content_type: \'application/json\'\n    payload: \'{"command":"{{ command }}", "user":"username"}\'\n')),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"# Example test lovelace card\ntype: entities\nentities:\n  - action_name: Broadcast\n    name: test broadcast\n    service: rest_command.assistant_broadcast\n    type: call-service\n    service_data:\n      command: hello, this is a test broadcast\n")),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),'# Automation action example (just fill in "command: hello" if you are using the editor)\n  action:\n  - data:\n      command: hello\n    service: rest_command.assistant_broadcast\n')),Object(o.b)("h3",{id:"node-red-example"},"Node Red Example"),Object(o.b)("p",null,"Simple flow for Node Red. Don't forget to change the IP address, port and user!"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'[ \n   { \n      "id":"cb8e2985.0fd68",\n      "type":"comment",\n      "z":"e0fa9d52.876058",\n      "name":"Broadcast via Google Home",\n      "info":"",\n      "x":180,\n      "y":180,\n      "wires":[ \n\n      ]\n   },\n   { \n      "id":"37f701c2.826d96",\n      "type":"delay",\n      "z":"e0fa9d52.876058",\n      "name":"",\n      "pauseType":"rate",\n      "timeout":"5",\n      "timeoutUnits":"seconds",\n      "rate":"1",\n      "nbRateUnits":"10",\n      "rateUnits":"second",\n      "randomFirst":"1",\n      "randomLast":"5",\n      "randomUnits":"seconds",\n      "drop":true,\n      "x":320,\n      "y":220,\n      "wires":[ \n         [ \n            "d087aae2.ab98e"\n         ]\n      ]\n   },\n   { \n      "id":"eba065b9.0d066",\n      "type":"http request",\n      "z":"e0fa9d52.876058",\n      "name":"post",\n      "method":"POST",\n      "ret":"obj",\n      "paytoqs":false,\n      "url":"http://192.168.1.2:3000/assistant",\n      "tls":"",\n      "persist":false,\n      "proxy":"",\n      "authType":"",\n      "x":730,\n      "y":220,\n      "wires":[ \n         [ \n\n         ]\n      ]\n   },\n   { \n      "id":"d087aae2.ab98e",\n      "type":"function",\n      "z":"e0fa9d52.876058",\n      "name":"set payload and headers",\n      "func":"msg.message = msg.payload;\\nmsg.payload = {\\n    \\"name\\": \\"username\\",\\n    \\"command\\": msg.message,\\n    \\"broadcast\\": true\\n};\\nmsg.headers = {};\\nmsg.headers[\'Content-Type\'] = \'application/json\';\\nreturn msg;",\n      "outputs":1,\n      "noerr":0,\n      "x":530,\n      "y":220,\n      "wires":[ \n         [ \n            "eba065b9.0d066"\n         ]\n      ]\n   },\n   { \n      "id":"e63ec3ee.7abb68",\n      "type":"inject",\n      "z":"e0fa9d52.876058",\n      "name":"",\n      "topic":"",\n      "payload":"Hello everyone!",\n      "payloadType":"str",\n      "repeat":"",\n      "crontab":"",\n      "once":false,\n      "onceDelay":0.1,\n      "x":140,\n      "y":220,\n      "wires":[ \n         [ \n            "37f701c2.826d96"\n         ]\n      ]\n   }\n]\n')))}p.isMDXComponent=!0},114:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"b",(function(){return b}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),p=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i({},n,{},e)),t},d=function(e){var n=p(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},u=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=p(t),u=a,b=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return t?r.a.createElement(b,i({ref:n},l,{components:t})):r.a.createElement(b,i({ref:n},l))}));function b(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,s=new Array(o);s[0]=u;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var l=2;l<o;l++)s[l]=t[l];return r.a.createElement.apply(null,s)}return r.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);